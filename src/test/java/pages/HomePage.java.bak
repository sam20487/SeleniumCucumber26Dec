package pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.support.ui.Select;

public class HomePage extends TestBase {

	public HomePage() {
		initialization();
	}

	public void clickOnShopByCatogory() {
		WebElement searchByCatory = driver.findElement(By.id("gh-shop"));
		searchByCatory.click();
	}

	public void clickOnCellPhoneAndAccessories() {
		WebElement cellPhoneMenuLink = driver.findElement(By.xpath("//*[@id='gh-sbc']/tbody/tr/td[1]/ul[2]/li[4]/a"));
		cellPhoneMenuLink.click();
	}

	public void clickOnCellPhoneSmartPhoneLink() {
		WebElement cellPhoneSmartPhoneLinkWebelement = driver
				.findElement(By.xpath("//*[@id='s0-16-12_2-0-1[0]-0-0']/ul/li[3]/a"));
		cellPhoneSmartPhoneLinkWebelement.click();
	}

	public void clickOnSeeAllOptions() {
		WebElement sellAllOptionWebelement = driver
				.findElement(By.xpath("//*[@id='mainContent']/div[1]/section[1]/div//button"));
		sellAllOptionWebelement.click();
	}

	public void selectFiltersFromList(String screenSize, int lowPrice, int highPrice, String itemLocation) {
		try {
			Thread.sleep(2000);
			WebElement screenSizeWebelement = driver.findElement(By.id("c3-mainPanel-Screen%20Size"));
			((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", screenSizeWebelement);
			screenSizeWebelement.click();
			Thread.sleep(2000);
			selectScreenSizeFromList(screenSize);
			WebElement priceWebelement = driver.findElement(By.id("c3-mainPanel-price"));
			((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", priceWebelement);
			priceWebelement.click();
			Thread.sleep(2000);
			inputPriceRange(lowPrice, highPrice);
			WebElement itemLocationWebelement = driver.findElement(By.id("c3-mainPanel-location"));
			((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", itemLocationWebelement);
			itemLocationWebelement.click();
			Thread.sleep(2000);
			selectItemLocatinRadioBtn(itemLocation);
			WebElement applyBtn = driver.findElement(By.xpath("//*[@id='x-overlay__form']/div[3]/div[2]/button"));
			applyBtn.click();
			Thread.sleep(2000);
		} catch (Exception e) {

		}

	}

	public void selectScreenSizeFromList(String screenSize) {
	
	}

	public void inputPriceRange(int lowPrice, int highPrice) {
		String lowPriceStr = Integer.toString(lowPrice);
		String highPriceStr = Integer.toString(highPrice);
		WebElement lowPriceWebElement = driver
				.findElement(By.xpath("//*[@id='c3-subPanel-_x-price-textrange']/div/div[1]/div/input"));
		((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", lowPriceWebElement);
		lowPriceWebElement.sendKeys(lowPriceStr);
		WebElement highPriceWebElement = driver
				.findElement(By.xpath("//*[@id='c3-subPanel-_x-price-textrange']/div/div[2]/div/input"));
		((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", highPriceWebElement);
		highPriceWebElement.sendKeys(highPriceStr);
	}

	public void selectItemLocatinRadioBtn(String itemLoc) {
		if (itemLoc.contains("US")) {
			WebElement radioEle = driver
					.findElement(By.xpath("//*[@id='c3-subPanel-location_US%20Only']/span/span/input"));
			((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", radioEle);
			radioEle.click();
			
		} else if (itemLoc.contains("North")) {
			WebElement radioEle = driver
					.findElement(By.xpath("//*[@id='c3-subPanel-location_North%20America']/span/span/input"));
			((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", radioEle);
			radioEle.click();
			
		} else if (itemLoc.contains("World")) {
			WebElement radioEle = driver
					.findElement(By.xpath("//*[@id='c3-subPanel-location_Worldwide']/span/span/input"));
			((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", radioEle);
			radioEle.click();
			
		} else {
			WebElement radioEle = driver
					.findElement(By.xpath("//*[@id='c3-subPanel-location_Default']/span/span/input"));
			((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", radioEle);
			radioEle.click();
			
		}

	}

	public boolean validateFilters(String screenSize, String itemLoc, int lowPrice, int highPrice) {
	
	}

	public void searchProductByName(String productName) {
		WebElement searchBox = driver.findElement(By.id("gh-ac"));
		searchBox.sendKeys(productName);
	}

	public void selectSearchCategory(String category) {
		Select drpCatogory = new Select(driver.findElement(By.name("_sacat")));
		if (category.equals("All Categories")) {
			drpCatogory.selectByIndex(0);
		} else if (category.equals("Antiques")) {
			drpCatogory.selectByIndex(1);
		} else if (category.equals("Art")) {
			drpCatogory.selectByIndex(2);
		} else if (category.equals("Baby")) {
			drpCatogory.selectByIndex(3);
		} else if (category.equals("Books")) {
			drpCatogory.selectByIndex(4);
		} else if (category.equals("Business & Industrial")) {
			drpCatogory.selectByIndex(5);
		} else if (category.equals("Cameras & Photo")) {
			drpCatogory.selectByIndex(6);
		} else if (category.equals("Cell Phones & Accessories")) {
			drpCatogory.selectByIndex(7);
		} else if (category.equals("Clothing, Shoes & Accessories")) {
			drpCatogory.selectByIndex(8);
		} else if (category.equals("Coins & Paper Money")) {
			drpCatogory.selectByIndex(9);
		} else if (category.equals("Collectibles")) {
			drpCatogory.selectByIndex(10);
		} else if (category.equals("Computers/Tablets & Networking")) {
			drpCatogory.selectByIndex(11);
		} else if (category.equals("Consumer Electronics")) {
			drpCatogory.selectByIndex(11);
		} else if (category.equals("Crafts")) {
			drpCatogory.selectByIndex(12);
		} else {
			drpCatogory.selectByIndex(13);
		}

	}

	public void clickOnSearchBtn() {
		WebElement searchBtn = driver.findElement(By.id("gh-btn"));
		searchBtn.click();
	}

	public String validateSearchProduct() {
		WebElement searchProduct = driver.findElement(By.xpath("//*[@id='item2b45ac98b6']/div/div[2]/a/div/span"));
		String productTitle = searchProduct.getText();
		return productTitle;

	}

}
